{% extends "network/layout.html" %}

{% block body %}
    <div id="profile-info">
        <p>{{ user.username }}'s Profile Page</p>
        {% if user.is_authenticated and request.user != user %}
            <button id="unfollowBtn" class="btn btn-danger">Unfollow</button>
            <button id="followBtn" class="btn btn-primary">Follow</button>
        {% elif not user.is_authenticated %}
            <p><a href="{% url 'login' %}">Login</a> or <a href="{% url 'register' %}">Register</a> to follow this user.</p>
        {% endif %}
        <p>Following: {{ follow.following | length }}</p>
        <p>Followers: {{ follow.followers | length }}</p>
    </div>

    <div id="all-posts">
        {% for post in posts %}
            <div class="post">
                <p>{{ post.user }} said:</p>
                <p>{{ post.post }}</p>
                <p>{{ post.time }}</p>
                <p>Likes: {{ post.likes | length }}</p>
                <p>Dislikes: {{ post.dislikes | length }}</p>
            </div>
        {% empty %}
            <div>Nothing posted yet.</div>
        {% endfor %}
    </div>

{% endblock %}